# ğŸµ Witly Music - TÃ¼rkÃ§e Kurulum Rehberi

Bu rehber, Witly Music uygulamasÄ±nÄ± sÄ±fÄ±rdan kurup Ã§alÄ±ÅŸtÄ±rmak iÃ§in gerekli tÃ¼m adÄ±mlarÄ± iÃ§erir.

## ğŸ“‹ Gerekli Programlar

BaÅŸlamadan Ã¶nce ÅŸunlarÄ±n yÃ¼klÃ¼ olduÄŸundan emin olun:

- **Node.js** (v18 veya Ã¼zeri) - https://nodejs.org/
- **npm** (Node.js ile birlikte gelir)
- **Git** - https://git-scm.com/
- **React Native CLI** - `npm install -g react-native-cli`

### Android iÃ§in:
- **Android Studio** - https://developer.android.com/studio
- **JDK 11** veya Ã¼zeri

### iOS iÃ§in (sadece macOS):
- **Xcode** 12 veya Ã¼zeri
- **CocoaPods** - `sudo gem install cocoapods`

## ğŸš€ AdÄ±m AdÄ±m Kurulum

### 1ï¸âƒ£ Proje DosyalarÄ±nÄ± HazÄ±rlayÄ±n

Proje dosyalarÄ±nÄ±z zaten `C:\Users\emref\Desktop\Witly Music` klasÃ¶rÃ¼nde.

### 2ï¸âƒ£ Backend Kurulumu

#### a) Backend baÄŸÄ±mlÄ±lÄ±klarÄ±nÄ± yÃ¼kleyin:

```powershell
cd "C:\Users\emref\Desktop\Witly Music\backend"
npm install
```

#### b) Environment dosyasÄ± oluÅŸturun:

```powershell
# env.example.txt dosyasÄ±nÄ± .env olarak kopyalayÄ±n
copy env.example.txt .env
```

#### c) `.env` dosyasÄ±nÄ± dÃ¼zenleyin:

`.env` dosyasÄ±nÄ± bir metin editÃ¶rÃ¼ ile aÃ§Ä±n ve ÅŸu deÄŸerleri doldurun:

```env
# Sunucu AyarlarÄ±
PORT=3000
NODE_ENV=development

# PocketBase AyarlarÄ± (Ã¶nce PocketBase kurulumu yapacaÄŸÄ±z)
POCKETBASE_URL=http://127.0.0.1:8090
POCKETBASE_ADMIN_EMAIL=admin@witlydesign.com
POCKETBASE_ADMIN_PASSWORD=admin123456

# Spotify API (opsiyonel - daha sonra ekleyeceÄŸiz)
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=

# JWT Secret
JWT_SECRET=witly_music_secret_key_2025
```

**Not:** Spotify API anahtarlarÄ±nÄ± daha sonra ekleyeceÄŸiz. Åimdilik boÅŸ bÄ±rakabilirsiniz.

### 3ï¸âƒ£ PocketBase Kurulumu

#### a) PocketBase'i indirin:

Windows iÃ§in: https://github.com/pocketbase/pocketbase/releases/latest

`pocketbase_x.x.x_windows_amd64.zip` dosyasÄ±nÄ± indirin.

#### b) PocketBase'i Ã§Ä±kartÄ±n:

1. Ä°ndirdiÄŸiniz zip dosyasÄ±nÄ± `C:\Users\emref\Desktop\Witly Music\pocketbase` klasÃ¶rÃ¼ne Ã§Ä±kartÄ±n
2. `pocketbase.exe` dosyasÄ±nÄ± gÃ¶receksiniz

#### c) PocketBase'i Ã§alÄ±ÅŸtÄ±rÄ±n:

```powershell
cd "C:\Users\emref\Desktop\Witly Music\pocketbase"
.\pocketbase.exe serve
```

PocketBase `http://127.0.0.1:8090` adresinde Ã§alÄ±ÅŸmaya baÅŸlayacak.

#### d) Admin hesabÄ± oluÅŸturun:

1. TarayÄ±cÄ±nÄ±zda `http://127.0.0.1:8090/_/` adresine gidin
2. Ä°lk admin hesabÄ±nÄ± oluÅŸturun:
   - **Email**: `admin@witlydesign.com`
   - **Password**: `admin123456` (veya daha gÃ¼venli bir ÅŸifre)
3. "Create and Login" butonuna tÄ±klayÄ±n

#### e) Collection'larÄ± oluÅŸturun:

PocketBase admin panelinde ÅŸu collection'larÄ± manuel olarak oluÅŸturmanÄ±z gerekiyor:

##### Collection 1: users
Bu otomatik olarak oluÅŸturulmuÅŸ olmalÄ±. "Collections" menÃ¼sÃ¼nden kontrol edin.

##### Collection 2: tracks
1. "New collection" > "Base collection"
2. **Name**: `tracks`
3. **Fields** ekleyin:
   - `externalId` - Text, Required
   - `title` - Text, Required
   - `artist` - Text, Required
   - `album` - Text
   - `duration` - Number
   - `coverImage` - URL
   - `source` - Select (Options: deezer, spotify)
   - `previewUrl` - URL
4. "Create" butonuna tÄ±klayÄ±n

##### Collection 3: playlists
1. "New collection" > "Base collection"
2. **Name**: `playlists`
3. **Fields**:
   - `name` - Text, Required
   - `description` - Editor
   - `user` - Relation (users, Single, Required)
   - `tracks` - Relation (tracks, Multiple)
   - `isPublic` - Bool (Default: false)
   - `coverImage` - URL
4. "Create"

##### Collection 4: favorites
1. "New collection" > "Base collection"
2. **Name**: `favorites`
3. **Fields**:
   - `user` - Relation (users, Single, Required)
   - `track` - Relation (tracks, Single, Required)
4. "Create"

##### Collection 5: listening_history
1. "New collection" > "Base collection"
2. **Name**: `listening_history`
3. **Fields**:
   - `user` - Relation (users, Single, Required)
   - `track` - Relation (tracks, Single, Required)
   - `playedAt` - Date
4. "Create"

**Tebrikler!** PocketBase kurulumu tamamlandÄ±. PocketBase'i Ã§alÄ±ÅŸÄ±r durumda bÄ±rakÄ±n.

### 4ï¸âƒ£ Spotify API AnahtarÄ± Alma (Opsiyonel ama Ã¶nerilen)

#### a) Spotify Developer Dashboard'a gidin:

https://developer.spotify.com/dashboard

#### b) Spotify hesabÄ±nÄ±zla giriÅŸ yapÄ±n

HesabÄ±nÄ±z yoksa Ã¼cretsiz oluÅŸturabilirsiniz.

#### c) Yeni uygulama oluÅŸturun:

1. "Create app" butonuna tÄ±klayÄ±n
2. Bilgileri doldurun:
   - **App name**: Witly Music
   - **App description**: Music streaming app
   - **Redirect URI**: `http://localhost:3000/callback`
3. "Web API" seÃ§in
4. KullanÄ±m ÅŸartlarÄ±nÄ± kabul edin
5. "Save" edin

#### d) API anahtarlarÄ±nÄ± alÄ±n:

1. OluÅŸturduÄŸunuz app'e tÄ±klayÄ±n
2. "Settings" butonuna tÄ±klayÄ±n
3. **Client ID** ve **Client Secret** deÄŸerlerini kopyalayÄ±n
4. Backend `.env` dosyasÄ±na ekleyin:

```env
SPOTIFY_CLIENT_ID=buraya_client_id_yapÄ±ÅŸtÄ±rÄ±n
SPOTIFY_CLIENT_SECRET=buraya_client_secret_yapÄ±ÅŸtÄ±rÄ±n
```

### 5ï¸âƒ£ Backend'i BaÅŸlatÄ±n

Yeni bir PowerShell penceresi aÃ§Ä±n:

```powershell
cd "C:\Users\emref\Desktop\Witly Music\backend"
npm run dev
```

Backend `http://localhost:3000` adresinde Ã§alÄ±ÅŸmaya baÅŸlayacak.

**Test edin:**

TarayÄ±cÄ±nÄ±zda `http://localhost:3000/health` adresine gidin. Åunu gÃ¶rmelisiniz:

```json
{
  "status": "OK",
  "message": "Witly Music API is running"
}
```

### 6ï¸âƒ£ Mobile App Kurulumu

Yeni bir PowerShell penceresi aÃ§Ä±n:

```powershell
cd "C:\Users\emref\Desktop\Witly Music\mobile"
npm install
```

Bu iÅŸlem 5-10 dakika sÃ¼rebilir.

### 7ï¸âƒ£ Android Kurulumu

#### a) Android SDK'yÄ± kontrol edin:

Android Studio'yu aÃ§Ä±n ve SDK Manager'dan ÅŸunlarÄ±n yÃ¼klÃ¼ olduÄŸundan emin olun:
- Android SDK Platform 33
- Android SDK Build-Tools
- Android Emulator

#### b) Environment deÄŸiÅŸkenlerini ayarlayÄ±n:

Windows ortam deÄŸiÅŸkenlerine ÅŸunlarÄ± ekleyin:

```
ANDROID_HOME=C:\Users\emref\AppData\Local\Android\Sdk
```

Path'e ekleyin:
```
%ANDROID_HOME%\platform-tools
%ANDROID_HOME%\tools
```

### 8ï¸âƒ£ UygulamayÄ± Ã‡alÄ±ÅŸtÄ±rÄ±n

#### Android Emulator ile:

1. Android Studio'yu aÃ§Ä±n
2. AVD Manager'dan bir emulator baÅŸlatÄ±n (Ã¶rn: Pixel 5 API 33)
3. PowerShell'de:

```powershell
cd "C:\Users\emref\Desktop\Witly Music\mobile"
npm run android
```

Ä°lk Ã§alÄ±ÅŸtÄ±rmada build iÅŸlemi 10-15 dakika sÃ¼rebilir.

#### Fiziksel Android cihazda:

1. CihazÄ±nÄ±zda "GeliÅŸtirici SeÃ§enekleri"ni etkinleÅŸtirin
2. "USB Debugging"i aÃ§Ä±n
3. CihazÄ± bilgisayara USB ile baÄŸlayÄ±n
4. PowerShell'de:

```powershell
npm run android
```

## âœ… Ã‡alÄ±ÅŸtÄ±rÄ±lmasÄ± Gereken 3 Åey

Uygulama Ã§alÄ±ÅŸÄ±rken ÅŸu 3 ÅŸey aÃ§Ä±k olmalÄ±:

1. **PocketBase** (Terminal 1):
   ```powershell
   cd "C:\Users\emref\Desktop\Witly Music\pocketbase"
   .\pocketbase.exe serve
   ```

2. **Backend** (Terminal 2):
   ```powershell
   cd "C:\Users\emref\Desktop\Witly Music\backend"
   npm run dev
   ```

3. **Mobile App** (Terminal 3):
   ```powershell
   cd "C:\Users\emref\Desktop\Witly Music\mobile"
   npm run android
   ```

## ğŸ‰ TamamlandÄ±!

Witly Music uygulamanÄ±z hazÄ±r! Ä°ÅŸte yapabilecekleriniz:

- âœ… Yeni hesap oluÅŸturma
- âœ… GiriÅŸ yapma
- âœ… MÃ¼zik arama (Deezer API ile)
- âœ… ÅarkÄ± dinleme (30 saniyelik preview)
- âœ… Favorilere ekleme
- âœ… Ã‡alma listesi oluÅŸturma
- âœ… Dinleme geÃ§miÅŸi

## ğŸ› Sorun Giderme

### "Unable to resolve module" hatasÄ±
```powershell
cd mobile
npm start -- --reset-cache
```

### Android build hatasÄ±
```powershell
cd mobile\android
.\gradlew clean
cd ..
npm run android
```

### PocketBase baÄŸlantÄ± hatasÄ±
- PocketBase'in Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olun
- `http://127.0.0.1:8090/_/` adresinden admin paneline eriÅŸebildiÄŸinizi kontrol edin

### Backend API hatasÄ±
- Backend'in Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olun
- `http://localhost:3000/health` adresini kontrol edin

## ğŸ“ Destek

Sorun yaÅŸarsanÄ±z:

1. Terminal Ã§Ä±ktÄ±larÄ±nÄ± kontrol edin
2. `README.md` ve `API_KEYS_GUIDE.md` dosyalarÄ±na bakÄ±n
3. PocketBase admin panelinde collection'larÄ±n doÄŸru oluÅŸturulduÄŸunu kontrol edin

## ğŸµ Ä°yi Dinlemeler!

ArtÄ±k kendi mÃ¼zik streaming uygulamanÄ±z var. Keyifle kullanÄ±n!

**Made with â¤ï¸ by Witly Design**
