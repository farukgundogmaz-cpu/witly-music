# ğŸ”‘ API AnahtarlarÄ± AlÄ±mÄ± Rehberi

Bu dokÃ¼manda, Witly Music uygulamasÄ± iÃ§in gerekli API anahtarlarÄ±nÄ± nasÄ±l alacaÄŸÄ±nÄ±z adÄ±m adÄ±m aÃ§Ä±klanmaktadÄ±r.

## ğŸ“ Genel BakÄ±ÅŸ

Witly Music, aÅŸaÄŸÄ±daki API'leri kullanmaktadÄ±r:

1. **Spotify Web API** (Zorunlu) - MÃ¼zik iÃ§eriÄŸi
2. **Deezer API** (Opsiyonel) - MÃ¼zik iÃ§eriÄŸi (Anahtar gerektirmez)
3. **PocketBase** (Zorunlu) - Backend & Database

---

## ğŸµ 1. Spotify Web API

Spotify API, geniÅŸ mÃ¼zik kataloÄŸu ve geliÅŸmiÅŸ Ã¶zellikler sunar.

### AdÄ±m 1: Spotify Developer Dashboard'a GiriÅŸ

1. https://developer.spotify.com/dashboard adresine gidin
2. Spotify hesabÄ±nÄ±zla giriÅŸ yapÄ±n (yoksa Ã¼cretsiz hesap oluÅŸturun)

### AdÄ±m 2: Yeni Uygulama OluÅŸturun

1. Dashboard'da **"Create app"** butonuna tÄ±klayÄ±n
2. Uygulama bilgilerini doldurun:
   - **App name**: Witly Music
   - **App description**: Music streaming mobile application
   - **Website**: (opsiyonel)
   - **Redirect URI**: `http://localhost:3000/callback`
3. **API/SDKs** bÃ¶lÃ¼mÃ¼nde **Web API** seÃ§in
4. Terms of Service'i kabul edin ve **Save** edin

### AdÄ±m 3: API AnahtarlarÄ±nÄ± AlÄ±n

1. OluÅŸturduÄŸunuz app'e tÄ±klayÄ±n
2. **Settings** butonuna tÄ±klayÄ±n
3. Åu bilgileri kopyalayÄ±n:
   - **Client ID**: `xxxxxxxxxxxxxxxxxxxxx`
   - **Client Secret**: **"View client secret"** butonuna tÄ±klayÄ±p gÃ¶sterin ve kopyalayÄ±n

### AdÄ±m 4: Backend .env DosyasÄ±na Ekleyin

```env
SPOTIFY_CLIENT_ID=your_client_id_here
SPOTIFY_CLIENT_SECRET=your_client_secret_here
```

### â±ï¸ SÃ¼re
- **KayÄ±t**: ~2-3 dakika
- **Onay**: AnÄ±nda
- **Ãœcretsiz Limit**: GÃ¼nde 50,000 istek

---

## ğŸ§ 2. Deezer API

Deezer API Ã¼cretsizdir ve API anahtarÄ± gerektirmez!

### Ã–zellikler
- âœ… Ãœcretsiz kullanÄ±m
- âœ… API anahtarÄ± gerektirmez
- âœ… 30 saniyelik ÅŸarkÄ± Ã¶nizlemeleri
- âœ… GeniÅŸ mÃ¼zik kataloÄŸu

### KullanÄ±m
Deezer API'yi kullanmak iÃ§in herhangi bir kayÄ±t gerekmez. Backend kodumuz doÄŸrudan Deezer'in public API'sini kullanÄ±r:

```
https://api.deezer.com/
```

**Not:** Deezer API varsayÄ±lan olarak aktiftir ve backend'de Ã§alÄ±ÅŸÄ±r durumda.

---

## ğŸ—„ï¸ 3. PocketBase

PocketBase, kendi sunucunuzda barÄ±ndÄ±rdÄ±ÄŸÄ±nÄ±z bir backend Ã§Ã¶zÃ¼mÃ¼dÃ¼r.

### AdÄ±m 1: PocketBase Ä°ndirin

1. https://pocketbase.io/ adresine gidin
2. **Download** bÃ¶lÃ¼mÃ¼nden iÅŸletim sisteminize uygun versiyonu indirin:
   - Windows: `pocketbase_x.x.x_windows_amd64.zip`
   - macOS: `pocketbase_x.x.x_darwin_amd64.zip`
   - Linux: `pocketbase_x.x.x_linux_amd64.zip`

### AdÄ±m 2: PocketBase'i Ã‡alÄ±ÅŸtÄ±rÄ±n

```bash
# Windows
./pocketbase.exe serve

# macOS/Linux
./pocketbase serve
```

PocketBase varsayÄ±lan olarak `http://127.0.0.1:8090` adresinde Ã§alÄ±ÅŸÄ±r.

### AdÄ±m 3: Admin HesabÄ± OluÅŸturun

1. TarayÄ±cÄ±da `http://127.0.0.1:8090/_/` adresine gidin
2. Ä°lk admin hesabÄ±nÄ± oluÅŸturun:
   - **Email**: admin@witlydesign.com
   - **Password**: GÃ¼venli bir ÅŸifre (en az 10 karakter)

### AdÄ±m 4: Collection'larÄ± OluÅŸturun

[POCKETBASE_SETUP.md](./POCKETBASE_SETUP.md) dosyasÄ±nÄ± takip ederek gerekli collection'larÄ± oluÅŸturun:
- users
- tracks
- playlists
- favorites
- listening_history

### AdÄ±m 5: Backend .env DosyasÄ±na Ekleyin

**Yerel development iÃ§in:**
```env
POCKETBASE_URL=http://127.0.0.1:8090
POCKETBASE_ADMIN_EMAIL=admin@witlydesign.com
POCKETBASE_ADMIN_PASSWORD=your_secure_password
```

**Production iÃ§in (`api1.witlydesign.com`):**
```env
POCKETBASE_URL=https://api1.witlydesign.com
POCKETBASE_ADMIN_EMAIL=admin@witlydesign.com
POCKETBASE_ADMIN_PASSWORD=your_secure_password
```

---

## âœ… Kontrol Listesi

Kurulumu tamamladÄ±ktan sonra ÅŸunlarÄ± kontrol edin:

- [ ] Spotify Client ID ve Client Secret alÄ±ndÄ±
- [ ] Backend `.env` dosyasÄ± oluÅŸturuldu ve API anahtarlarÄ± eklendi
- [ ] PocketBase indirildi ve Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±
- [ ] PocketBase admin hesabÄ± oluÅŸturuldu
- [ ] PocketBase collection'larÄ± oluÅŸturuldu ([POCKETBASE_SETUP.md](./POCKETBASE_SETUP.md))
- [ ] Backend Ã§alÄ±ÅŸtÄ±rÄ±ldÄ± (`npm run dev`)
- [ ] Backend health check baÅŸarÄ±lÄ± (`http://localhost:3000/health`)

---

## ğŸ§ª Test

### Backend Health Check

```bash
curl http://localhost:3000/health
```

Beklenen yanÄ±t:
```json
{
  "status": "OK",
  "message": "Witly Music API is running",
  "timestamp": "2025-09-29T..."
}
```

### Spotify API Testi

```bash
curl http://localhost:3000/api/music/search?q=billie%20eilish&source=spotify
```

### Deezer API Testi

```bash
curl http://localhost:3000/api/music/search?q=billie%20eilish&source=deezer
```

---

## ğŸ†˜ Sorun Giderme

### Spotify API HatasÄ±: "Invalid client credentials"

**Ã‡Ã¶zÃ¼m:**
- Client ID ve Client Secret'Ä±n doÄŸru kopyalandÄ±ÄŸÄ±ndan emin olun
- `.env` dosyasÄ±nda boÅŸluk veya tÄ±rnak iÅŸareti olmadÄ±ÄŸÄ±ndan emin olun
- Backend'i yeniden baÅŸlatÄ±n

### PocketBase BaÄŸlantÄ± HatasÄ±

**Ã‡Ã¶zÃ¼m:**
- PocketBase'in Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olun
- `POCKETBASE_URL` deÄŸerinin doÄŸru olduÄŸundan emin olun
- Admin email ve password'Ã¼n doÄŸru olduÄŸundan emin olun

### Deezer API Rate Limit

**Ã‡Ã¶zÃ¼m:**
- Deezer API rate limit'e sahiptir
- Cache sistemi otomatik olarak Ã§alÄ±ÅŸmaktadÄ±r
- Gerekirse cache sÃ¼resini artÄ±rÄ±n (backend/services/deezer.service.js)

---

## ğŸ“ Destek

Sorun yaÅŸarsanÄ±z:

1. [POCKETBASE_SETUP.md](./POCKETBASE_SETUP.md) dosyasÄ±nÄ± kontrol edin
2. [README.md](./README.md) kurulum adÄ±mlarÄ±nÄ± tekrar gÃ¶zden geÃ§irin
3. GitHub issues'da sorun aÃ§Ä±n

---

**Son GÃ¼ncelleme**: EylÃ¼l 2025
**DokÃ¼man Versiyonu**: 1.0.0
